<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/master.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.1/jsmediatags.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=add_circle" />
    <title>Play Sound</title>
</head>
<body>
  
    <div class="grelha">
        <input type="file" id="myFile" multiple accept=".mp3" onchange="loadMusic(event)" >
     
        <div class="reprodutor">
            <div class="media">
                <div class="detalhes">
                    <img id="album-art" src="https://cdn-icons-png.flaticon.com/512/3844/3844724.png"
                        alt="Album Art">
                    <div class="texto">
                        <h3 id="titulo">Escolha uma música</h3>
                        <p id="artista">Artista</p>
                    </div>
                </div>
                <div class="contador">
                    <p id="inicio">00:00</p>
                    <input type="range" id="audio-range" value="0" step="1" max="100" onchange="seekAudio()">
                    <p id="final">00:00</p>
                </div>
                <div class="btns">
                    <button onclick="prevAudio()" class="btn"><i class="material-icons"
                            style="font-size:24px">skip_previous</i></button>
                    <button onclick="togglePlayPause()" class="play btn"><i id="play-pause-icon" class="material-icons"
                            style="font-size:36px">play_arrow</i></button>
                    <button onclick="nextAudio()" class="btn"><i class="material-icons"
                            style="font-size:24px">skip_next</i></button>
                </div>
            </div>
            <div class="playlist">
            <div class="container" onclick="myFunction(this)">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
            </div>
            <div class="lista">
                <h3>A minha Música</h3>

            </div>
        </div>
        </div>
        <audio id="my-audio"></audio>

        
    </div>
    </div>
    <script src="js/media.js"></script>

    <script >

 
       /*  let audio = document.getElementById("my-audio");
        let playPauseIcon = document.getElementById("play-pause-icon");
        let audioRange = document.getElementById("audio-range");
        let titulo = document.getElementById("titulo");
        let artista = document.getElementById("artista");
        let albumArt = document.getElementById("album-art");
        let musicFiles = [];
        let currentMusicIndex = 0;

        // Função para carregar músicas
        function loadMusic(event) {
            musicFiles = Array.from(event.target.files);
            if (musicFiles.length > 0) {
                playMusic(0); // Começar com a primeira música
            }
        }

        // Função para tocar música
        function playMusic(index) {
            const music = musicFiles[index];
            const reader = new FileReader();
            reader.onload = function (e) {
                audio.src = e.target.result;
                audio.play();
                updateMusicDetails(music);
            };
            reader.readAsDataURL(music);
        }

        // Atualizar título, artista e capa do álbum
        function updateMusicDetails(music) {
            const musicName = music.name.split('.')[0]; // Nome da música sem extensão
            const musicArtista = music; // Nome da música sem extensão
            console.log(musicArtista);
            titulo.textContent = musicName;
            artista.textContent = "Artista Desconhecido"; // Você pode adicionar um campo para artista, se necessário
            albumArt.src = "https://i1.sndcdn.com/artworks-AlkCxNKtoNyprK4d-KMCozg-t500x500.jpg"; // Defina uma capa padrão ou extraia do arquivo se possível
        }

        // Função de play/pause
        function togglePlayPause() {
            if (audio.paused) {
                audio.play();
                playPauseIcon.textContent = "pause";
            } else {
                audio.pause();
                playPauseIcon.textContent = "play_arrow";
            }
        }

        // Função para avançar a música
        function nextAudio() {
            if (currentMusicIndex < musicFiles.length - 1) {
                currentMusicIndex++;
                playMusic(currentMusicIndex);
            }
        }

        // Função para retroceder a música
        function prevAudio() {
            if (currentMusicIndex > 0) {
                currentMusicIndex--;
                playMusic(currentMusicIndex);
            }
        }

        // Atualizar a barra de progresso com o tempo da música
        audio.ontimeupdate = function () {
            let currentTime = audio.currentTime;
            let duration = audio.duration;
            if (!isNaN(duration)) {
                let value = (currentTime / duration) * 100;
                audioRange.value = value;

                // Atualizar tempo
                document.getElementById("inicio").textContent = formatTime(currentTime);
                document.getElementById("final").textContent = formatTime(duration);
            }
        };

        // Formatar o tempo (ex: 01:30)
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // Mover a música para a posição escolhida na barra
        function seekAudio() {
            const seekTime = (audioRange.value / 100) * audio.duration;
            audio.currentTime = seekTime;
        } */
    </script>
</body>

</html>